extends ../../layouts/default.pug 
include ../../mixins/successAlert.pug 
block main
  if(role.permissions.includes("accounts_edit"))
    h1(class="mb-4") Edit Account
    +errorAlert()
    +successAlert()
    form(
        action=`/admin/accounts/edit/${account.id}?_method=PATCH`
        method="POST"
        enctype="multipart/form-data"
    )
        div(class="form-group")
            label(for='fullname') Fullname: 
            input(type="text", class="form-control", id="fullName", name="fullName", value=account.fullName)
        div(class="form-group")
            label(for='email') Email:  
            input(type="email", class="form-control", id="email", name="email", value=account.email)
        div(class="form-group")
            label(for='phone') Phone:   
            input(type="text", class="form-control", id="phone", name="phone", value=account.phone)
        div(class="form-group")
            label(for='email') Password
            input(type="password", class="form-control", id="password", name="password", value=account.password)
        div(class="form-group", upload-image)
            label(for='avatar') Avatar
            input(type="file", class="form-control", id="avatar", name="avatar", accept="image/*", upload-image-preview)
            img(src= account.avatar, data-upload-image-preview)
        div(class="form-group")
            label(for='role_id') Role: 
            select(name="role_id", id="role_id", class="form-control")
                option(disabled) --Select--
                each items in roles 
                    if(account.role_id==items.id)
                        option(value=items.id, selected) #{items.title} 
                    else 
                        option(value=items.id) #{items.title}
        div(class="form-group form-check form-check-inline")
            input(type="radio", class="form-check-input", id="statusActive", name="status", value="active", checked=(account.status=="active"? true:false))
            label(for="statusActive", class="form-check-label") Active 
        div(class="form-group form-check form-check-inline")
            input(type="radio", class="form-check-input", id="statusInactive", name="status", value="inactive", checked=(account.status=="inactive"? true:false))
            label(for="statusInactive", class="form-check-label") Inactive
        div(class="form-group")
            button(type="submit", class="btn btn-primary")  Update 
