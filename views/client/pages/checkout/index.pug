extends ../../layouts/default.pug 
include ../../mixins/box-head.pug 
include ../../mixins/alert.pug 
block main 
    +successAlert()
    +errorAlert()
    div(class="container my-3")
        div(class="row")
            div(class="col-12")
                +box-head("Your order")
        div(class="row")
            div(class="col-12")
                table(class="table table-bordered")
                    thead 
                        tr 
                            th Number 
                            th Pic
                            th Title
                            th Price 
                            th Quantity 
                            th Total Price 
                    tbody
                        if(cartDetails.products.length>0)
                            each items, index  in cartDetails.products

                                tr 
                                    td #{index+1}
                                    td 
                                        img(src=items.productInfo.thumbnail, width="80px")
                                    td #{items.productInfo.title}
                                    td $#{items.productInfo.priceNew} 
                                    td #{items.quantity}
                                    td $#{items.productInfo.priceNew*items.quantity} 
                                    

                                     
                        else 
                            h3(class="text-danger") There is not any products in the cart 
                            
        
        h3(class="text-right") Total money needs to pay : $#{cartDetails.totalPrice}

        if(cartDetails.products.length>0)
            div(class="row")
                div(class="col-12")
                    div(class="card p-4 my-4")
                        form(
                            action="/checkout/order"
                            method="POST"
                        )
                            div(class="form-group")
                                label(for="fullName") Full Name: 
                                input(type="text", class="form-control", id="fullName", name="fullName", required)
                            div(class="form-group")
                                label(for="phone") Phone number : 
                                input(type="text", class="form-control", id="phone", name="phone", required)
                            div(class="form-group")
                                label(for="address") Address: 
                                input(type="text", class="form-control", id="address", name="address", required)
                            button(type="submit", class="btn btn-primary btn-block") Confirm my order
